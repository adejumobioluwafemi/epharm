[pytest]
testpaths = tests
pythonpath = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Custom markers (also registered in conftest.py pytest_configure)
markers =
    auth: Authentication and token tests
    users: User CRUD tests
    tenants: Tenant management tests (SUPER_ADMIN only)
    stores: Pharmacy store management tests
    rbac: Role-based access control tests
    email: Email service tests
    tenant_isolation: Cross-tenant data isolation tests
    security: Security and edge-case tests
    unit: Unit tests (no HTTP client)
    integration: Full HTTP stack integration tests
    asyncio: Async tests

# Logging
log_cli = true
log_cli_level = WARNING
log_level = WARNING

# Ignore deprecation warnings from third-party libraries
filterwarnings =
    ignore::DeprecationWarning:passlib.*:
    ignore::DeprecationWarning:jose.*: